# Lao Lottery App - Implementation Plan v2

à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡ Dashboard à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸°à¸šà¸šà¸«à¸§à¸¢à¸¥à¸²à¸§ à¹à¸šà¹ˆà¸‡à¸•à¸²à¸¡ 3 à¸šà¸—à¸šà¸²à¸—

---

## ðŸ“Œ à¸ªà¸£à¸¸à¸› Requirements

### 1. SuperAdmin Dashboard
| à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
|--------|-----------|
| à¸ à¸²à¸žà¸£à¸§à¸¡à¹€à¸ˆà¹‰à¸²à¸¡à¸·à¸­ | à¸ˆà¸³à¸™à¸§à¸™à¹€à¸ˆà¹‰à¸²à¸¡à¸·à¸­, à¸ˆà¸³à¸™à¸§à¸™ user à¹à¸•à¹ˆà¸¥à¸°à¸„à¸™ |
| à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸ˆà¹‰à¸²à¸¡à¸·à¸­ | à¸„à¸¥à¸´à¸à¹€à¸‚à¹‰à¸²à¹„à¸›à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸° dealer |
| à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ User | à¸”à¸¹à¸à¸²à¸£à¸ªà¹ˆà¸‡à¹€à¸¥à¸‚à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸° user |
| à¸”à¸¹à¸‡à¸§à¸”à¸—à¸µà¹ˆà¹€à¸›à¸´à¸”à¸£à¸±à¸š | à¹€à¸«à¹‡à¸™à¸§à¹ˆà¸² dealer à¸à¸³à¸¥à¸±à¸‡à¹€à¸›à¸´à¸”à¸£à¸±à¸šà¸«à¸§à¸¢à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡ |
| à¸¡à¸¸à¸¡à¸¡à¸­à¸‡ Dealer | à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸‚à¹‰à¸²à¹„à¸›à¸”à¸¹ dashboard à¹à¸šà¸š dealer à¹„à¸”à¹‰ |

---

### 2. Dealer Dashboard
| à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
|--------|-----------|
| à¹€à¸Šà¸´à¸ User | QR Code + à¸¥à¸´à¸‡à¸à¹Œà¸£à¸±à¸šà¸ªà¸¡à¸²à¸Šà¸´à¸ âœ… à¸¡à¸µà¹à¸¥à¹‰à¸§ |
| à¸ªà¸£à¹‰à¸²à¸‡à¸‡à¸§à¸”à¸«à¸§à¸¢ | à¸à¸³à¸«à¸™à¸”à¸§à¸±à¸™à¸—à¸µà¹ˆ, à¹€à¸§à¸¥à¸²à¹€à¸›à¸´à¸”-à¸›à¸´à¸”à¸£à¸±à¸š |
| à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸„à¸­à¸¡ | à¸à¸³à¸«à¸™à¸” commission rate à¹ƒà¸«à¹‰à¹à¸•à¹ˆà¸¥à¸° user |
| à¸•à¸±à¹‰à¸‡à¸­à¸±à¸•à¸£à¸²à¸ˆà¹ˆà¸²à¸¢ | à¸à¸³à¸«à¸™à¸” payout rate à¹ƒà¸«à¹‰à¹à¸•à¹ˆà¸¥à¸° user |
| à¸”à¸¹à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¸¡à¸² | à¸ à¸²à¸žà¸£à¸§à¸¡ + à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
| à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸­à¸±à¹‰à¸™ | à¸à¸³à¸«à¸™à¸”à¸§à¹ˆà¸²à¹à¸•à¹ˆà¸¥à¸°à¹€à¸¥à¸‚à¸£à¸±à¸šà¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ |
| à¸”à¸¹à¹€à¸¥à¸‚à¹€à¸à¸´à¸™ | à¹à¸ªà¸”à¸‡à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹€à¸à¸´à¸™à¸„à¹ˆà¸²à¸­à¸±à¹‰à¸™ |
| à¸•à¸£à¸§à¸ˆà¸œà¸¥à¸£à¸²à¸‡à¸§à¸±à¸¥ | à¹ƒà¸ªà¹ˆà¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸­à¸­à¸ â†’ à¸„à¸³à¸™à¸§à¸“à¸œà¸¹à¹‰à¸Šà¸™à¸°à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ |
| à¸›à¸´à¸”à¸‡à¸§à¸” | à¸›à¸´à¸”à¸‡à¸§à¸”à¹€à¸¡à¸·à¹ˆà¸­à¸ˆà¸š |

---

### 3. User Dashboard  
| à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
|--------|-----------|
| à¸”à¸¹à¸‡à¸§à¸”à¹€à¸›à¸´à¸”à¸£à¸±à¸š | à¹€à¸«à¹‡à¸™à¸›à¸£à¸°à¹€à¸ à¸—à¸«à¸§à¸¢ + à¹€à¸§à¸¥à¸²à¹€à¸›à¸´à¸”-à¸›à¸´à¸” |
| à¸ªà¹ˆà¸‡à¹€à¸¥à¸‚ | à¸›à¹‰à¸­à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸‚à¸²à¸¢à¸¡à¸² â†’ à¸ªà¹ˆà¸‡à¹ƒà¸«à¹‰ dealer |
| à¸¥à¸šà¹€à¸¥à¸‚ | à¸¥à¸šà¹„à¸”à¹‰à¸ à¸²à¸¢à¹ƒà¸™à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆ dealer à¸à¸³à¸«à¸™à¸” |
| à¸”à¸¹à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡ | à¸£à¸²à¸¢à¸à¸²à¸£à¹€à¸¥à¸‚à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¹„à¸› |
| à¸”à¸¹à¸„à¹ˆà¸²à¸„à¸­à¸¡ | à¹€à¸«à¹‡à¸™ commission rate + à¸„à¸­à¸¡à¸£à¸§à¸¡ |
| à¸”à¸¹à¸œà¸¥à¸£à¸²à¸‡à¸§à¸±à¸¥ | à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸–à¸¹à¸ + à¸ªà¸£à¸¸à¸›à¸•à¹‰à¸­à¸‡à¸ˆà¹ˆà¸²à¸¢/à¹„à¸”à¹‰à¸£à¸±à¸š |

---

## ðŸ’¡ à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡

1. **ðŸ”” à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™** - à¹à¸ˆà¹‰à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¸‡à¸§à¸”à¹€à¸›à¸´à¸”/à¸›à¸´à¸”, à¸«à¸§à¸¢à¸­à¸­à¸
2. **ðŸ“Š à¸£à¸²à¸¢à¸‡à¸²à¸™à¸ªà¸£à¸¸à¸›** - Export PDF/Excel à¸ªà¸³à¸«à¸£à¸±à¸š dealer
3. **ðŸ’° à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹€à¸‡à¸´à¸™** - à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸ˆà¹ˆà¸²à¸¢/à¸£à¸±à¸šà¹€à¸‡à¸´à¸™à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ user-dealer
4. **â° Timer à¹à¸ªà¸”à¸‡à¹€à¸§à¸¥à¸²** - Countdown à¸à¹ˆà¸­à¸™à¸›à¸´à¸”à¸£à¸±à¸š
5. **ðŸ“± Mobile-first** - à¸­à¸­à¸à¹à¸šà¸šà¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸¡à¸·à¸­à¸–à¸·à¸­à¹„à¸”à¹‰à¸”à¸µ

---

## ðŸ› ï¸ Technical Updates

### User Dashboard (Submit Modal)
- **4-Digit Input Logic**:
    - **Thai/Hanoi**:
        - If amount is empty/0: Show no bet type buttons.
        - If amount > 0: Show "4 à¸•à¸±à¸§à¸¥à¸­à¸¢" and "3 X [Permutation Count]".
    - **Lao**:
        - If amount is empty/0: Show "4 à¸•à¸±à¸§à¸Šà¸¸à¸”".
        - If amount > 0: Show "4 à¸•à¸±à¸§à¸Šà¸¸à¸”", "4 à¸•à¸±à¸§à¸¥à¸­à¸¢", and "3 X [Permutation Count]".
- **Permutation Calculation**: Automatically calculate unique 3-digit permutations from 4 digits (e.g., 1234 -> 24, 1233 -> 12).
- **Bulk Submission**: When "3 X [Count]" is clicked, generate all unique 3-digit permutations and submit them as "3 à¸•à¸±à¸§à¸šà¸™" (3_top) in a single batch.
- **3-Column Layout**: Updated the bet type selection grid to use 3 columns for better organization.
- **Thin Borders**: Added thin borders to bet type buttons for a more refined look.

---

## ðŸ”„ Implementation Order

### Phase 1: Database & Core
- [x] à¸ªà¸£à¹‰à¸²à¸‡ SQL migration à¹ƒà¸«à¸¡à¹ˆ
- [x] à¸­à¸±à¸›à¹€à¸”à¸• Supabase schema

### Phase 2: Dealer Dashboard
- [x] à¸ªà¸£à¹‰à¸²à¸‡à¸‡à¸§à¸”à¸«à¸§à¸¢
- [x] à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸„à¸­à¸¡ + à¸­à¸±à¸•à¸£à¸²à¸ˆà¹ˆà¸²à¸¢
- [x] à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸­à¸±à¹‰à¸™
- [x] à¸”à¸¹à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¸¡à¸²
- [x] à¸•à¸£à¸§à¸ˆà¸œà¸¥à¸£à¸²à¸‡à¸§à¸±à¸¥

### Phase 3: User Dashboard
- [x] à¸”à¸¹à¸‡à¸§à¸”à¸—à¸µà¹ˆà¹€à¸›à¸´à¸”à¸£à¸±à¸š
- [x] à¸ªà¹ˆà¸‡à¹€à¸¥à¸‚ + à¸¥à¸šà¹€à¸¥à¸‚
- [x] à¸”à¸¹à¸„à¹ˆà¸²à¸„à¸­à¸¡
- [x] à¸”à¸¹à¸œà¸¥à¸£à¸²à¸‡à¸§à¸±à¸¥

### Phase 4: SuperAdmin Dashboard
- [ ] à¸ à¸²à¸žà¸£à¸§à¸¡à¹€à¸ˆà¹‰à¸²à¸¡à¸·à¸­
- [ ] à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ dealer/user
- [ ] à¸¡à¸¸à¸¡à¸¡à¸­à¸‡ dealer
