# Lao Lottery App - Implementation Plan v2

‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Dashboard ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ß‡∏¢‡∏•‡∏≤‡∏ß ‡πÅ‡∏ö‡πà‡∏á‡∏ï‡∏≤‡∏° 3 ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó

---

## üìå ‡∏™‡∏£‡∏∏‡∏õ Requirements

### 1. SuperAdmin Dashboard
| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|-----------|
| ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÄ‡∏à‡πâ‡∏≤‡∏°‡∏∑‡∏≠ | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏°‡∏∑‡∏≠, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô user ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô |
| ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏à‡πâ‡∏≤‡∏°‡∏∑‡∏≠ | ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ dealer |
| ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• User | ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ user |
| ‡∏î‡∏π‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö | ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ dealer ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏´‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á |
| ‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á Dealer | ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏π dashboard ‡πÅ‡∏ö‡∏ö dealer ‡πÑ‡∏î‡πâ |

---

### 2. Dealer Dashboard
| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|-----------|
| ‡πÄ‡∏ä‡∏¥‡∏ç User | QR Code + ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‚úÖ ‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß |
| ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏ß‡∏î‡∏´‡∏ß‡∏¢ | ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡∏¥‡∏î-‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö |
| ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏° | ‡∏Å‡∏≥‡∏´‡∏ô‡∏î commission rate ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞ user |
| ‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏à‡πà‡∏≤‡∏¢ | ‡∏Å‡∏≥‡∏´‡∏ô‡∏î payout rate ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞ user |
| ‡∏î‡∏π‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤ | ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° + ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
| ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏±‡πâ‡∏ô | ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏•‡∏Ç‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà |
| ‡∏î‡∏π‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏¥‡∏ô | ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏±‡πâ‡∏ô |
| ‡∏ï‡∏£‡∏ß‡∏à‡∏ú‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• | ‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å ‚Üí ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ |
| ‡∏õ‡∏¥‡∏î‡∏á‡∏ß‡∏î | ‡∏õ‡∏¥‡∏î‡∏á‡∏ß‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö |

---

### 3. User Dashboard  
| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|-----------|
| ‡∏î‡∏π‡∏á‡∏ß‡∏î‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö | ‡πÄ‡∏´‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏ß‡∏¢ + ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡∏¥‡∏î-‡∏õ‡∏¥‡∏î |
| ‡∏™‡πà‡∏á‡πÄ‡∏•‡∏Ç | ‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡∏°‡∏≤ ‚Üí ‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ dealer |
| ‡∏•‡∏ö‡πÄ‡∏•‡∏Ç | ‡∏•‡∏ö‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà dealer ‡∏Å‡∏≥‡∏´‡∏ô‡∏î |
| ‡∏î‡∏π‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ |
| ‡∏î‡∏π‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏° | ‡πÄ‡∏´‡πá‡∏ô commission rate + ‡∏Ñ‡∏≠‡∏°‡∏£‡∏ß‡∏° |
| ‡∏î‡∏π‡∏ú‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• | ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å + ‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢/‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö |

---

## üí° ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

1. **üîî ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô** - ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏î‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î, ‡∏´‡∏ß‡∏¢‡∏≠‡∏≠‡∏Å
2. **üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ** - Export PDF/Excel ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dealer
3. **üí∞ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÄ‡∏á‡∏¥‡∏ô** - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢/‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á user-dealer
4. **‚è∞ Timer ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤** - Countdown ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö
5. **üì± Mobile-first** - ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏î‡∏µ

---

## üóÑÔ∏è Database Changes Required

```mermaid
erDiagram
    profiles ||--o{ lottery_rounds : owns
    lottery_rounds ||--o{ submissions : has
    profiles ||--o{ submissions : makes
    profiles ||--o{ user_settings : has
    lottery_rounds ||--o{ number_limits : has
    
    lottery_rounds {
        uuid id PK
        uuid dealer_id FK
        string lottery_type
        date round_date
        timestamp open_time
        timestamp close_time
        timestamp delete_before_close
        string winning_numbers
        boolean is_closed
        timestamp created_at
    }
    
    submissions {
        uuid id PK
        uuid round_id FK
        uuid user_id FK
        string bet_type
        string numbers
        decimal amount
        boolean is_deleted
        boolean is_winner
        decimal prize_amount
        timestamp created_at
    }
    
    user_settings {
        uuid id PK
        uuid user_id FK
        uuid dealer_id FK
        decimal commission_2digit
        decimal commission_3digit
        decimal commission_4digit
        decimal commission_6digit
        decimal payout_2digit
        decimal payout_3digit
        decimal payout_4digit
        decimal payout_6digit
    }
    
    number_limits {
        uuid id PK
        uuid round_id FK
        string bet_type
        string numbers
        decimal max_amount
    }
```

---

## üîÑ Implementation Order

### Phase 1: Database & Core
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á SQL migration ‡πÉ‡∏´‡∏°‡πà
- [ ] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Supabase schema

### Phase 2: Dealer Dashboard
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏ß‡∏î‡∏´‡∏ß‡∏¢
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏° + ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏à‡πà‡∏≤‡∏¢
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏±‡πâ‡∏ô
- [ ] ‡∏î‡∏π‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏ú‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•

### Phase 3: User Dashboard
- [ ] ‡∏î‡∏π‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö
- [ ] ‡∏™‡πà‡∏á‡πÄ‡∏•‡∏Ç + ‡∏•‡∏ö‡πÄ‡∏•‡∏Ç
- [ ] ‡∏î‡∏π‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏°
- [ ] ‡∏î‡∏π‡∏ú‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•

### Phase 4: SuperAdmin Dashboard
- [ ] ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÄ‡∏à‡πâ‡∏≤‡∏°‡∏∑‡∏≠
- [ ] ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• dealer/user
- [ ] ‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á dealer
